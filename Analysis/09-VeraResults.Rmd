---
title: "Other analyses"
author: "Vera Weisbecker"
bibliography: references.bib
date: "`r Sys.Date()`"
output:
  html_document:
    fig_width: 12
    fig_height: 6
---

```{r, message = FALSE, warning = FALSE}
## Loading the libraries (and installing if necessary)
if(!require(knitr)) install.packages("knitr")
if(!require(geomorph)) install.packages("geomorph")
source("../Functions/utilities.R")
set.seed(42)

#loading the below loads an object called land_data, NOT "wombat"
load("../Data/Processed/wombat_krefftii.Rda")
ClassifierCr=read.csv("../Data/Raw/classifier_cranium_wombat.csv")
```

#Allometry analyses

```{r, message = FALSE, warning = FALSE}

allom.shape(land_data$cranium$procrustes)

allom.shape<-function (procrustes_coordinate_file_with_centroid_size){
  coords=procrustes_coordinate_file_with_centroid_size$coords
  Csize=procrustes_coordinate_file_with_centroid_size$Csize
  
  Allometry <- procD.allometry(coords~ Csize, f2=NULL, f3=NULL, logsz = FALSE, iter=999)
  return(Allometry)
}
coords=land_data$cranium$procrustes$coords
Csize=land_data$cranium$procrustes$Csize

Allometry <- procD.allometry(coords~ Csize, f2=NULL, f3=NULL, logsz = FALSE, iter=999)
return(Allometry)

```
#2-Block Partial Least Squares analysis
```{r, message = FALSE, warning = FALSE}


#reduce datasets down to those that have mandibles and crania
#@params GPA_coords is a file containing coords, e.g. land_data_cranium

#Classifiers


```{r}
#I want to later make this a function for "Full_Classifier_Table" but this was to help me figure out if the code works in principle
Full_Classifier_Table_Cranial=read.csv("../Data/Raw/classifier_cranium_wombat.csv")

#I want these names to go into the output
species <- c("CW", "SHNW", "NHNW")
#these are required to pull out the subsets
sp_holders <- c("Common wombat", "SHN wombat", "NHN wombat")

<<<<<<< HEAD
    for (i in (1:length(sp_holders))){
=======
    for (i in 1:length(sp_holders)){ #TG: I've added the 1:length() to go through the sequence
>>>>>>> a53ab1e64fcbea1e3f280ad91ef3f01ef12debca
      
    Class = Full_Classifier_Table_Cranial[Full_Classifier_Table_Cranial$Species == sp_holders[i],]
    assign(species[i],Class)#This does what I want it to do but overwrites the Class so only the last run is saved.
    
    }

<<<<<<< HEAD
```
=======


```
>>>>>>> a53ab1e64fcbea1e3f280ad91ef3f01ef12debca
